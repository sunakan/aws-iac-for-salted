#!/bin/sh
################################################################################
# Overview
# - Create key pair
#
# Required command tools
# - aws
# - jq
#
# Required input properties example (format: json)
# ----
# {
#   "region": "ap-northeast-1",
#   "ec2": {
#     "ami_id": "ami-0cc75a8978fbbc969",
#     "name": "asahi-ec2",
#     "instance_type": "t2.micro"
#   },
#   "vpc_public_subnets": {
#     "subnets": [
#       {
#         "subnet_id": "subnet-xxxxxx"
#       },
#     ]
#   },
#   "ssh_key_pair": {
#     "name": "asahi-key"
#   }
# }
# ----
#
# Output (format: json)
# ----
# INPUT_JSON + \
# {
#   "ec2": {
#   }
# }
# ----
################################################################################

set -eu
################################################################################
# Input
################################################################################
read INPUT
readonly INPUT

################################################################################
# Variables
################################################################################



################################################################################
# Environment variables
################################################################################
export AWS_PAGER=""
export AWS_DEFAULT_OUTPUT="json"
export AWS_DEFAULT_REGION=$(echo ${INPUT} | jq --raw-output '.region')

################################################################################
# Main
################################################################################

